<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{commons/fragments::head}">

</head>

<body>


<!-- ***** Header Area Start ***** -->
<header class="header-area header-sticky" th:replace="~{commons/fragments::nav}">

</header>
<!-- ***** Header Area End ***** -->


<div class="page-heading" th:object="${contest}" th:data-enddate="*{startPhase3}">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 header-text">
                <h2 class="space-need" th:text="*{title}">A Walk In The Nature <em>Contest</em></h2>
                <h6>Contest Deadline</h6>
                <div class="main-content">
                    <div class="counter" th:datetime-local="${contest.startPhase3}">
                        <div class="days">
                            <div class="value" th:text="*{daysRemaining}">00</div>
                            <span>Days</span>
                        </div>
                        <div class="hours">
                            <div class="value" th:text="*{hoursRemaining}">00</div>
                            <span>Hours</span>
                        </div>
                        <div class="minutes">
                            <div class="value" th:text="*{minutesRemaining}">00</div>
                            <span>Minutes</span>
                        </div>
                        <div class="seconds">
                            <div class="value" th:text="*{secondsRemaining}">00</div>
                            <span>Seconds</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="contest-details">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="top-content">
                    <div class="row">
                        <div class="col-lg-4">
                            <span class="open" th:text="${phase.toString()}"></span>
                            <span class="wish-list" th:text="${contest.category}"><i class="fa fa-heart"></i></span>
                        </div>
                        <div class="col-lg-8">
                            <ul>

                                <li> Time left: <span th:text="'Days: ' + ${contest.getDaysRemaining()}"></span></li>

                                <li>Submissions: <span th:text="${submissions.size()}"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="main-content">
                    <h4>Requirements Of The Contest</h4>
                    <h6>Description</h6>
                    <p th:text="${contest.description}">You are allowed to 100% freely use this SnapX Template for your
                        commercial websites. You are not allowed to redistribute the template ZIP file on any other Free
                        CSS Template collection websites.</p>

                    <div th:if="${phase.name().equals('FINISHED')}">
                        <h4 class="second-title">Winners</h4>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="owl-features owl-carousel" style="position: relative; z-index: 5;">
                                    <div class="item" th:each="top, iter : ${top3}" th:object="${top}">
                                        <div class="thumb">
                                            <img th:src="*{photoUrl}" alt="">
                                            <div class="hover-effect">
                                                <div class="content">
                                                    <h4 th:text="*{title}"><i class="fa fa-star"></i><i
                                                            class="fa fa-star"></i><i class="fa fa-star"></i><i
                                                            class="fa fa-star"></i> <span>(4.5)</span></h4>
                                                    <ul>
                                                        <li th:text="*{creator.username}"><span>Contest Winner:</span>
                                                            Vincent Adam
                                                        </li>
                                                        <li th:text="${iter.index + 1}"><span>PLACE:</span> Anthony Soft
                                                        </li>
                                                        <li th:text="*{getReviewScore()}"><span>Score</span> $1.000 +
                                                            Camera Nikon
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div th:if="${!contains} ">
                            <div class="main-button" th:if="${!IsFound}">
                                <a th:href="@{/contests/{id}/submissions(id=${id})}">Submit Your Photo</a>
                            </div>
                            <div class="main-button" th:unless="${!IsFound}">
                                <a th:href="@{/user/openContests}" th:if="${!phase.name().equals('FINISHED')}">Already
                                    submitted photo for this contest, check out the
                                    other contests!</a>
                            </div>
                        </div>

                    </div>
                    <div th:if="${phase.name().equals('PHASE_1')}">
                        <h4 class="second-title">Previous Contests from This Category</h4>
                        <div class="row" >
                            <div class="col-lg-3 col-6" th:each="prev : ${previousContests}" th:object="${prev}">
                                <div class="item">
                                    <span><img th:src="*{photoUrl}"></span>
                                    <h5 th:text="*{title}">A Trip In The Rain<br></h5>
                                </div>
                            </div>
                        </div>
                        <div th:if="${!contains} ">
                            <div class="main-button" th:if="${!IsFound}">
                                <a th:href="@{/contests/{id}/submissions(id=${id})}">Submit Your Photo</a>
                            </div>
                            <div class="main-button" th:unless="${!IsFound}">
                                <a th:href="@{/user/openContests}">Already submitted photo for this contest, check out
                                    the
                                    other contests!</a>
                            </div>
                        </div>

                    </div>
                    <div th:if="${phase.name().equals('NOT_STARTED')}">
                        <div class="row" >
                            <div class="col-lg-3 col-6" th:each="prev : ${previousContests}" th:object="${prev}">
                                <div class="item">
                                    <span><img th:src="*{photoUrl}"></span>
                                    <h5 th:text="*{title}">A Trip In The Rain<br></h5>
                                </div>
                            </div>
                        </div>
                        <div class="main-button">
                            <a th:href="@{/user//participatedContests}">The Contest will start soon</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<section class="contest-waiting">
    <div class="container" th:if="${submissions != null}">
        <div class="row">
            <div class="col-lg-12">
                <h5>Photo Submissions</h5>
            </div>
            <div class="col-lg-3 col-sm-6" th:each="submission : ${submissions}">
                <div class="waiting-item" th:object="${submission}">
                    <img th:src="*{photoUrl}" alt="">
                    <div class="down-content">
                        <h4 th:text="*{title}">Photo Title</h4>
                        <p th:text="*{story}">Photo Story</p>
                        <span class="price">Score: <em th:text="*{getReviewScore()}"></em></span>
                        <span class="price">Creator: <em th:text="*{creator.getEmail()}">$0</em></span>
                        <!--                          <span class="deadline">Deadline: <em th:text="*{startPhase3}">0 Days</em></span>-->
                    </div>
                    <div th:if="${contains}">
                        <div class="border-button" th:if="${!reviewStatusMap[submission.getId()]}">
                            <a th:href="@{/submissions/{id}(id=${submission.getId()})}">Review Photo</a>
                        </div>
                        <div class="border-button" th:unless="${!reviewStatusMap[submission.getId()]}">
                            <a th:href="@{/contests/juryPanel}">Already Reviewed</a>
                        </div>
                    </div>
                    <div th:unless="${contains}">
                        <div class="border-button" th:if="${phase.name().equals('FINISHED')}">
                            <a th:href="@{/submissions/{id}/reviews(id=${submission.getId()})}">View Reviews</a>
                        </div>
                        <!--              <div class="border-button" th:unless="${!reviewStatusMap[submission.getId()]}">-->
                        <!--                <a th:href="@{/contests/juryPanel}">Already Reviewed</a>-->
                        <!--              </div>-->
                    </div>

                </div>
            </div>
            <div class="col-lg-12">
                <ul class="pagination">
                    <li><a href="#"><i class="fa fa-arrow-left"></i></a></li>
                    <li><a href="#">1</a></li>
                    <li class="active"><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#"><i class="fa fa-arrow-right"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</section>

<footer th:replace="~{commons/fragments::footer}"></footer>

<!-- Scripts -->
<div th:replace="~{commons/scripts::body}"></div>

</body>
</html>